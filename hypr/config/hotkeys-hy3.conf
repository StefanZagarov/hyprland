###################################
### HY3 LAYOUT SPECIFIC KEYMAPS ###
###################################

# These keybindings use hy3-specific dispatchers
# They will override dwindle keybindings when hy3 is loaded
# Comment out the source line in hyprland.conf when hy3 is not available

###################
### MOVE WINDOW ###
###################

# Move active window to a workspace and follow it
bind = ALT, 1, hy3:movetoworkspace, 1, follow # DESC: Move Window: Workspace 1 - follow
bind = ALT, 2, hy3:movetoworkspace, 2, follow # DESC: Move Window: Workspace 2 - follow
bind = ALT, 3, hy3:movetoworkspace, 3, follow # DESC: Move Window: Workspace 3 - follow
bind = ALT, 4, hy3:movetoworkspace, 4, follow # DESC: Move Window: Workspace 4 - follow
bind = ALT, 5, hy3:movetoworkspace, 5, follow # DESC: Move Window: Workspace 5 - follow
bind = ALT, F1, hy3:movetoworkspace, 6, follow # DESC: Move Window: Workspace 6 - follow
bind = ALT, F2, hy3:movetoworkspace, 7, follow # DESC: Move Window: Workspace 7 - follow
bind = ALT, F3, hy3:movetoworkspace, 8, follow # DESC: Move Window: Workspace 8 - follow
bind = ALT, F4, hy3:movetoworkspace, 9, follow # DESC: Move Window: Workspace 9 - follow
bind = ALT, F5, hy3:movetoworkspace, 10, follow # DESC: Move Window: Workspace 10 - follow

# Move active window to a workspace and don't follow it
bind = ALT CTRL, 1, hy3:movetoworkspace, 1 # DESC: Move Window: Workspace 1 - don't follow
bind = ALT CTRL, 2, hy3:movetoworkspace, 2 # DESC: Move Window: Workspace 2 - don't follow
bind = ALT CTRL, 3, hy3:movetoworkspace, 3 # DESC: Move Window: Workspace 3 - don't follow
bind = ALT CTRL, 4, hy3:movetoworkspace, 4 # DESC: Move Window: Workspace 4 - don't follow
bind = ALT CTRL, 5, hy3:movetoworkspace, 5 # DESC: Move Window: Workspace 5 - don't follow
bind = ALT CTRL, Q, hy3:movetoworkspace, 6 # DESC: Move Window: Workspace 6 - don't follow
bind = ALT CTRL, W, hy3:movetoworkspace, 7 # DESC: Move Window: Workspace 7 - don't follow
bind = ALT CTRL, E, hy3:movetoworkspace, 8 # DESC: Move Window: Workspace 8 - don't follow
bind = ALT CTRL, R, hy3:movetoworkspace, 9 # DESC: Move Window: Workspace 9 - don't follow
bind = ALT CTRL, T, hy3:movetoworkspace, 10 # DESC: Move Window: Workspace 10 - don't follow

########################
### HY3 KEYBINDINGS ###
########################

# Move focus with SUPER + arrow keys and hjkl
bind = $mainMod, left, hy3:movefocus, l # DESC: Focus: Move focus left
bind = $mainMod, right, hy3:movefocus, r # DESC: Focus: Move focus right
bind = $mainMod, down, hy3:movefocus, d # DESC: Focus: Move focus down
bind = $mainMod, up, hy3:movefocus, u # DESC: Focus: Move focus up
bind = $mainMod, H, hy3:movefocus, l # DESC: Focus: Move focus left
bind = $mainMod, L, hy3:movefocus, r # DESC: Focus: Move focus right
bind = $mainMod, J, hy3:movefocus, d # DESC: Focus: Move focus down
bind = $mainMod, K, hy3:movefocus, u # DESC: Focus: Move focus up

# Move window with SUPER + ALT + arrow keys
bind = $mainMod ALT, left, hy3:movewindow, l # DESC: Move Window: Left
bind = $mainMod ALT, right, hy3:movewindow, r # DESC: Move Window: Right
bind = $mainMod ALT, up, hy3:movewindow, u # DESC: Move Window: Up
bind = $mainMod ALT, down, hy3:movewindow, d # DESC: Move Window: Down
bind = $mainMod ALT, H, hy3:movewindow, l # DESC: Move Window: Left
bind = $mainMod ALT, L, hy3:movewindow, r # DESC: Move Window: Right
bind = $mainMod ALT, K, hy3:movewindow, u # DESC: Move Window: Up
bind = $mainMod ALT, J, hy3:movewindow, d # DESC: Move Window: Down

# Make group with ALT + Z, X, C
bind = $mainMod ALT, Z, hy3:makegroup, h, toggle # DESC: Group: Make group horizontal
bind = $mainMod ALT, X, hy3:makegroup, v, toggle # DESC: Group: Make group vertical
# Commended out until they fix crashes from toggling (disabling) group from a single window (might be Electron apps specific)
# bind = $mainMod ALT, C, hy3:makegroup, tab, toggle # DESC: Group: Toggle group tab
#Workaround: Custom script that check if the crash conditions are met and avoids it by running the :changegroup untab instead
bind = $mainMod ALT, C, exec, ~/.local/bin/hy3_tab_toggle.sh # DESC: Group: Toggle group tab

# Change group with ALT + V, B
bind = $mainMod ALT, V, hy3:changegroup, opposite # DESC: Group: Change group to opposite
bind = $mainMod ALT, B, hy3:changegroup, toggletab # DESC: Group: Change group to tab
bind = ALT, slash, hy3:warpcursor # DESC: Group: Warp cursor

# Lock tab group so it can be moved together
bind = ALT, L, hy3:locktab, lock # DESC: Group: Lock tab group
bind = ALT, K, hy3:locktab, unlock # DESC: Group: Unlock tab group

# Change focus between floating and tiled windows
bind = $mainMod ALT, F, hy3:togglefocuslayer # DESC: Focus: Floating or tiled windows
