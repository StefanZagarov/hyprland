#!/bin/bash
browser="${BROWSER:-firefox}"

query=$(
    rofi -dmenu -theme ~/.config/rofi/browser-search-bar.rasi -p "Search Web" \
         -theme-str "entry { placeholder: \"Search with ${browser}...\"; }" \
         -lines 0)

# nothing typed? just quit
[ -z "$query" ] && exit

# open the query in the browser
encoded_query=$(python3 -c "import urllib.parse, sys; print(urllib.parse.quote(sys.argv[1]))" "$query")
"$browser" "https://www.google.com/search?q=$encoded_query"
